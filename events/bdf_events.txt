namespace = bdf

# Event to set up Governors i n the appropriate countries
bdf.1 = {
	type = country_event
	hidden = yes

	trigger = {
		OR = {
			AND = {
				exists = c:CAN
				root = c:CAN
			}
			AND = {
				exists = c:AST
				root = c:AST
			}
			AND = {
				exists = c:NZL
				root = c:NZL
			}
			AND = {
				exists = c:SAF
				root = c:SAF
			}
			AND = {
				exists = c:HGK
				root = c:HGK
			}
			AND = {
				exists = c:CYP
				root = c:CYP
			}
			AND = {
				exists = c:MLT
				root = c:MLT
			}
			AND = {
				exists = c:NAL
				root = c:NAL
			}
			AND = {
				exists = c:EGY
				root = c:EGY
			}
			AND = {
				exists = c:PAL
				root = c:PAL
			}
			AND = {
				exists = c:ISR
				root = c:ISR
			}
			AND = {
				exists = c:IRQ
				root = c:IRQ
			}
			AND = {
				exists = c:YEM
				root = c:YEM
			}
		}
	}

	immediate = {
		if = {
			limit = {
				scope:target = {
					OR = {
						AND = {
							exists = c:EGY
							root = c:EGY
						}
						AND = {
							exists = c:PAL
							root = c:PAL
						}
						AND = {
							exists = c:ISR
							root = c:ISR
						}
						AND = {
							exists = c:IRQ
							root = c:IRQ
						}
						AND = {
							exists = c:YEM
							root = c:YEM
						}
					}
				#	NOT = {
				#		scope:target = {
				#			is_subject_type = subject_type_protectorate
				#		}
				#	}
				}
			}
			set_country_type = colonial
			add_primary_culture = cu:british
	#		c:GBR = {
	#			create_diplomatic_pact = {
	#				country = root
	#				type = protectorate
	#			} 
	#		}
		}

		activate_law = law_type:law_presidential_republic
		create_character = {
			ruler = yes
			culture = cu:british
		}

		if = {
			limit = {
				OR = {
					scope:target = {
						AND = {
							exists = c:CAN
							root = c:CAN
						}
						AND = {
							exists = c:AST
							root = c:AST
						}
						AND = {
							exists = c:NZL
							root = c:NZL
						}
						AND = {
							exists = c:SAF
							root = c:SAF
						}
					}
				}
				NOT = {
					scope:target = {
						is_subject_type = subject_type_dominion
					}
				}
			}
			scope:target = {
				change_subject_type = subject_type_dominion
			}
		}

		if = {
			limit = {
				OR = {
					scope:target = {
						AND = {
							exists = c:HGK
							root = c:HGK
						}
						AND = {
							exists = c:CYP
							root = c:CYP
						}
						AND = {
							exists = c:MLT
							root = c:MLT
						}
						AND = {
							exists = c:NAL
							root = c:NAL
						}
						AND = {
							exists = c:YEM
							root = c:YEM
						}
					}
				}
				NOT = {
					scope:target = {
						is_subject_type = subject_type_puppet
					}
				}
			}
			scope:target = {
				change_subject_type = subject_type_puppet
			}
		}
	}
}
