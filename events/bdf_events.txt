namespace = bdf

# Event to set up Governors i n the appropriate countries
bdf.1 = {
	type = country_event
	hidden = yes

	trigger = {
		OR = {
			AND = {
				exists = c:CAN
				root = c:CAN
			}
			AND = {
				exists = c:AST
				root = c:AST
			}
			AND = {
				exists = c:NZL
				root = c:NZL
			}
			AND = {
				exists = c:SAF
				root = c:SAF
			}
			AND = {
				exists = c:HGK
				root = c:HGK
			}
			AND = {
				exists = c:CYP
				root = c:CYP
			}
			AND = {
				exists = c:MLT
				root = c:MLT
			}
			AND = {
				exists = c:NAL
				root = c:NAL
			}
			AND = {
				exists = c:C1E
				root = c:C1E
			}
			AND = {
				exists = c:C1C
				root = c:C1C
			}
			AND = {
				exists = c:C1P
				root = c:C1P
			}
			AND = {
				exists = c:C1I
				root = c:C1I
			}
			AND = {
				exists = c:C1A
				root = c:C1A
			}
			AND = {
				exists = c:C1Y
				root = c:C1Y
			}
			AND = {
				exists = c:PAL
				root = c:PAL
			}
			AND = {
				exists = c:ISR
				root = c:ISR
			}
			AND = {
				exists = c:IRQ
				root = c:IRQ
			}
			AND = {
				exists = c:YEM
				root = c:YEM
			}
		}
	}

	immediate = {
		if = {
			limit = {
				scope:target = {
					OR = {
						AND = {
							exists = c:PAL
							root = c:PAL
						}
						AND = {
							exists = c:ISR
							root = c:ISR
						}
						AND = {
							exists = c:IRQ
							root = c:IRQ
						}
						AND = {
							exists = c:YEM
							root = c:YEM
						}
					}
				}
			}
			set_country_type = colonial

			add_primary_culture = cu:british
			set_state_religion = rel:protestant
			while = {
				limit = {
					any_primary_culture = {
						NOT = {
							this = cu:british
						}
					}
				}
				random_primary_culture = {
					limit = { 
						NOT = {
							this = cu:british
						}
					}
					save_scope_as = primary_culture_delete_scope
				}
				remove_primary_culture = scope:primary_culture_delete_scope
			} 
			
			trigger_event = {
				id = bdf.2
				days = 1
			}
		}

		activate_law = law_type:law_presidential_republic

		if = {
			limit = {
				OR = {
					scope:target = {
						AND = {
							exists = c:CAN
							root = c:CAN
						}
						AND = {
							exists = c:AST
							root = c:AST
						}
						AND = {
							exists = c:NZL
							root = c:NZL
						}
						AND = {
							exists = c:SAF
							root = c:SAF
						}
					}
				}
				NOT = {
					scope:target = {
						is_subject_type = subject_type_dominion
					}
				}
			}
			scope:target = {
				change_subject_type = subject_type_dominion
			}
		}

		if = {
			limit = {
				OR = {
					scope:target = {
						AND = {
							exists = c:HGK
							root = c:HGK
						}
						AND = {
							exists = c:CYP
							root = c:CYP
						}
						AND = {
							exists = c:MLT
							root = c:MLT
						}
						AND = {
							exists = c:NAL
							root = c:NAL
						}
						AND = {
							exists = c:YEM
							root = c:YEM
						}
					}
				}
				NOT = {
					scope:target = {
						is_subject_type = subject_type_puppet
					}
				}
			}
			scope:target = {
				change_subject_type = subject_type_puppet
			}
		}
	}
}

bdf.2 = {
	type = country_event
	hidden = yes

	trigger = {
	}

	immediate = {
		create_character = {
			ruler = yes
			culture = cu:british
		}
	}
}